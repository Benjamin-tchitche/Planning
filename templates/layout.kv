


<MainScreen>
    MDBoxLayout:
        orientation: 'vertical'
        MDTopAppBar:
            title: "Aujourd'hui"
            size_hint: 1, None
            height: dp(80)
            halign: 'left'
        
        MDBoxLayout:
            orientation: 'vertical'
            size_hint: 1,.3
            adaptive_height: True
            MDRelativeLayout:
                MDIconButton:
                    icon: 'chevron-left'
                    pos_hint: {'center_x': 0.1,'center_y': 0.5}
                MDIconButton:
                    icon: 'chevron-right'
                    pos_hint: {'center_x': 0.9,'center_y': 0.5}
                
                CommonAssistChip:
                    text:'sam; 1 févr.2025'
                    icon: 'calendar'
                    pos_hint: {'center_x': 0.5,'center_y': 0.5}
                
        
        MDBoxLayout:
            orientation: 'vertical'
            adaptive_height: True
            MDScrollView:
                do_scroll_x: False
                do_scroll_y: True
                adaptive_height: True
                MDBoxLayout:
                    id: base
                    orientation: 'vertical'
                    spacing: dp(10)
                    size_hint:1, None 
                    adaptive_height: True
                    padding: dp(10)
            MDBoxLayout:
                orientation: 'vertical'
                id: task_creator
                adaptive_height: True
                padding: dp(10)
        MDBoxLayout:
                    
                        
<ActiviteScreen>
    MDBoxLayout:
        orientation: 'vertical'

        MDBoxLayout:
            size_hint:1,0.1
            MDRelativeLayout:
                MDIconButton:
                    icon: 'close'
                    font_size: 20
                    adaptive_size: True
                    pos_hint: {'center_x': 0.1,'top': 1.0}
                    on_press: root.close()

                MDLabel:
                    text: "Nouveau bloc"
                    adaptive_size: True
                    pos_hint: {'center_x': 0.5,'top': 0.9}
                
                MDIconButton:
                    icon: 'check'
                    font_size: 20
                    adaptive_size: True
                    pos_hint: {'center_x': 0.9,'top': 1.0}

                    on_press: root.load_data()

        
        MDBoxLayout:
            MDScrollView:
                do_scroll_x: False
                do_scroll_y: True
                MDBoxLayout:
                    orientation: 'vertical'
                    adaptive_height: True
                    padding: dp(10)
                    spacing: dp(10)
                    MDBoxLayout:
                        adaptive_height: True
                        MDBoxLayout:
                            size_hint_x: None
                            width: dp(30)
                            MDIcon:
                                icon: 'tag-outline'
                                font_size: 20
                                pos_hint: {'center_x': 0.5,'center_y': 0.5}
                        MDBoxLayout:
                            orientation: 'vertical'
                            adaptive_height: True
                            spacing: dp(10)
                            MDBoxLayout:
                                id: active_act
                                adaptive_height: True
                                spacing: dp(10)
                            ActivityChip:
                                id: activite
                                on_press: root.slect_activity()
                    
                    MDBoxLayout:
                        adaptive_height: True
                        MDBoxLayout:
                            size_hint_x: None
                            width: dp(30)
                            MDIcon:
                                icon: 'calendar'
                                font_size: 20
                                pos_hint: {'center_x': 0.5,'center_y': 0.5}
                        DatePicker:
                            id: date
                    
                    MDBoxLayout:
                        adaptive_height: True
                        spacing: 5
                       
                        MDBoxLayout:
                            size_hint_x: None
                            width: dp(30)
                            MDIcon:
                                icon: 'clock-outline'
                                font_size: 20
                                pos_hint: {'center_x': 0.5,'center_y': 0.5}

                        TimePicker:
                            id: time_start
                            htext: 'Début'

                        TimePicker:
                            id: time_end
                            htext: 'Fin'
                    
                    RepeteBlock:
                        id: repeter
                        adaptive_height: True
                    
                    MDBoxLayout:
                        adaptive_height: True
                        spacing: 5
                        MDBoxLayout:
                            size_hint_x: None
                            width: dp(30)
                            MDIcon:
                                icon: 'align-horizontal-left'
                                font_size: 20
                                pos_hint: {'center_x': 0.5,'center_y': 0.5}

                        CustomTextField:
                            id: titre
                            hint_text: "Titre (Optionnel)"
                           
                    
                    MDBoxLayout:
                        adaptive_height: True
                        spacing: 5
                        MDBoxLayout:
                            size_hint_x: None
                            width: dp(30)
                            MDIcon:
                                icon: 'align-horizontal-left'
                                font_size: 20
                                pos_hint: {'center_x': 0.5,'center_y': 0.5}

                        CustomTextField:
                            id: description
                            hint_text: "Description (Optionnel)"
                            

                    MDBoxLayout:
                        adaptive_height: True
                        spacing: 5
                        MDBoxLayout:
                            size_hint_x: None
                            width: dp(30)
                            adaptive_height: True
                        
                        MDLabel:
                            text: "NOTIFICATION"
                            font_size: 18
                            adaptive_height: True
                    
                    MDBoxLayout:
                        id: notification_box
                        adaptive_height: True
                        spacing: 5
                        
                            
                    MDBoxLayout:
                        adaptive_height: True
                        spacing: 5
                        MDBoxLayout:
                            size_hint_x: None
                            width: dp(30)
                            MDIcon:
                                icon: 'alarm-plus'
                                font_size: 20
                                pos_hint: {'center_x': 0.5,'center_y': 0.5}

                        CommonAssistChip:
                            text: "Ajouter une notification"
                            icon: 'plus'

                    
<ActivityCreatorScreen>
    MDBoxLayout:
        orientation: 'vertical'
        MDBoxLayout:
            size_hint:1,0.1
            MDRelativeLayout:
                MDIconButton:
                    icon: 'close'
                    font_size: 20
                    adaptive_size: True
                    pos_hint: {'center_x': 0.1,'top': 1.0}
                    on_press: root.cancel_and_back()
                
                MDIconButton:
                    icon: 'check'
                    font_size: 20
                    adaptive_size: True
                    pos_hint: {'center_x': 0.9,'top': 1.0}

                    on_press: root.validate()
        MDBoxLayout:
            orientation: 'vertical'
            padding: dp(10)
            CustomTextField:
                id: name
                hint_text: "Titre"


            MDBoxLayout:
                padding:20
                adaptive_height: True
                spacing: dp(30)
                MDCard:
                    id: color_flag
                    size_hint: None,None 
                    size: "80dp", "90dp"
                    md_bg_color: 'teal'
                    on_press: root.color_selector()
                
                MDCard:
                    id: icon_flag
                    size_hint: None,None 
                    size: "80dp", "90dp"
                    md_bg_color: 'teal'
                    CustomIconVeiw:
                        size_hint: 1,1
                        source: root.select_icon
                    
                
                    
            MDBoxLayout:
                orientation: 'vertical'
                MDLabel:
                    text: "Choisir une icon pour l'activité"
                    color: 'teal'
                    font_size: 24
                    adaptive_height: True
                
                MDScrollView:
                    do_scroll_x: False
                    do_scroll_y: True

                    MDStackLayout:
                        id: icons_box
                        adaptive_height: True
                        spacing: dp(20)

            

        